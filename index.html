<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Revisão – Quiz Interativo</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg-light: #fdfdfd;
  --bg-dark: #111827;
  --card-light: #ffffff;
  --card-dark: #1f2937;
  --ink-light: #111827;
  --ink-dark: #f9fafb;
  --brand1: #0b5394;
  --brand2: #22b14c;
  --shadow: 0 6px 18px rgba(0,0,0,.12);
  --radius: 14px;
  --transition: .3s ease;
  --fontScale: 1;
}
* { box-sizing: border-box; }
body{ margin:0; font-family: Inter, system-ui, sans-serif; background: var(--bg-light); color: var(--ink-light); line-height: 1.6; font-size: calc(16px * var(--fontScale)); transition: background var(--transition), color var(--transition); }
body.dark{ background: var(--bg-dark); color: var(--ink-dark); }
header{ position: sticky; top:0; z-index:10; background: var(--brand1); color:white; border-bottom:3px solid var(--brand2); display:flex; justify-content:space-between; align-items:center; padding:10px 18px; }
.wrap{ max-width:1100px; margin:0 auto; padding:18px; }
.title{ display:flex; align-items:center; gap:14px; flex-wrap:wrap; }
h1{ margin:0; font-size:clamp(18px,3vw,28px); }
.controls{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.btn{ border:1px solid #e5e7eb; padding:10px 14px; border-radius:10px; cursor:pointer; background:#f9fafb; transition: background var(--transition), transform var(--transition); }
.btn:hover{ background:#e0f2fe; transform: translateY(-2px); }
body.dark .btn{ background:#374151; color:white; border-color:#555; }
body.dark .btn:hover{ background:#4b5563; }
.btn.primary{ background: linear-gradient(135deg,var(--brand1),var(--brand2)); border:none; color:white; font-weight:700; }
.card{ background: var(--card-light); border:1px solid #e5e7eb; border-radius: var(--radius); box-shadow: var(--shadow); padding: 18px; margin-bottom:20px; transition: transform var(--transition), box-shadow var(--transition); }
.card:hover{ transform: translateY(-3px); box-shadow: 0 12px 24px rgba(0,0,0,.15); }
body.dark .card{ background: var(--card-dark); border-color:#555; }
.question{ font-weight:700; margin-bottom:12px; }
.actions{ display:flex; gap:8px; margin-bottom:8px; }
textarea{ width:100%; min-height:50px; padding:8px; resize:vertical; border-radius:6px; border:1px solid #ccc; transition: background var(--transition), color var(--transition); }
body.dark textarea{ background:#374151; color:white; border-color:#555; }
.hint-text{ display:none; margin-top:8px; padding:10px; background:#f0f9ff; border-left:4px solid var(--brand1); border-radius:6px; font-size:.95em; }
.hint-text.show{ display:block; }
.instruction-card{ background: #e0f7ff; border-left: 6px solid var(--brand1); padding: 16px; border-radius: 12px; margin-bottom:20px; font-size: 1rem; line-height:1.5; transition: background var(--transition);}
body.dark .instruction-card{ background:#1e293b; color:white; border-left:6px solid var(--brand2);}
</style>
</head>
<body>

<header>
  <div class="title">
    <h1>Revisão – Módulo Introdutório</h1>
  </div>
  <div class="controls">
    <button class="btn" id="toggleDark">🌙</button>
    <button class="btn primary" id="playAll">🔊 Ler tudo</button>
    <button class="btn" id="stopVoice">⏹️</button>
    <button class="btn" id="fontPlus">A+</button>
    <button class="btn" id="fontMinus">A-</button>
    <button class="btn" id="reviewAnswers">📋 Revisar respostas</button>
  </div>
</header>

<main class="wrap" id="app">
  <section class="instruction-card">
    <h2>Instruções</h2>
    <ul>
      <li>Clique em <strong>🔈</strong> para ouvir a pergunta.</li>
      <li>Use <strong>💡</strong> para ver uma dica sobre a resposta.</li>
      <li>Você pode responder digitando na caixa ou usando <strong>🎙️</strong> para gravar via voz.</li>
      <li>Use os botões <strong>A+</strong> e <strong>A-</strong> para ajustar o tamanho da fonte.</li>
      <li>Use o botão <strong>🌙</strong> para alternar entre modo claro e escuro.</li>
      <li>Quando terminar, clique em <strong>📋 Revisar respostas</strong> para conferir suas respostas.</li>
    </ul>
  </section>
</main>

<script>
const DATA = [
  {t:"1. Por que é importante entender bem um bilhete ou aviso no canteiro de obras?", hint:"Evita mal-entendidos e acidentes."},
  {t:"2. Como a comunicação clara entre os colegas pode evitar acidentes?", hint:"A comunicação correta evita erros perigosos."},
  {t:"3. Dê um exemplo de como uma instrução mal compreendida pode causar erro na obra.", hint:"Uma tarefa feita errado pode comprometer a segurança."},
  {t:"4. Explique por que todo trabalhador precisa saber ler placas de segurança.", hint:"Placas informam riscos e regras importantes."},
  {t:"5. Qual é a importância de respeitar os direitos dos trabalhadores na construção civil?", hint:"Garante dignidade e segurança para todos."},
  {t:"6. Por que o uso de EPIs é um direito e também um dever?", hint:"Protege o trabalhador e seus colegas."},
  {t:"7. Como as pausas para descanso ajudam o trabalhador?", hint:"Reduzem cansaço e aumentam a segurança."},
  {t:"8. Explique a importância de receber o salário em dia.", hint:"Assegura motivação e sustento."},
  {t:"9. Por que é importante respeitar os colegas de obra, mesmo quando há diferenças de opinião?", hint:"Mantém o ambiente saudável."},
  {t:"10. Como pedir ajuda de forma educada no trabalho?", hint:"Com respeito e clareza."},
  {t:"11. Explique como a empatia pode melhorar o ambiente da obra.", hint:"Ajuda a entender e apoiar os colegas."},
  {t:"12. Dê um exemplo de uma atitude que atrapalha a convivência no canteiro.", hint:"Desrespeitar regras ou colegas."},
  {t:"13. Por que vale a pena continuar estudando mesmo já tendo um emprego?", hint:"Ajuda a crescer na profissão."},
  {t:"14. Explique como ter um bom currículo pode ajudar a conseguir uma vaga melhor.", hint:"Mostra suas habilidades de forma clara."},
  {t:"15. Qual a importância de chegar no horário para o trabalho ou entrevista?", hint:"Demonstra responsabilidade."},
  {t:"16. O que significa ter responsabilidade no ambiente de trabalho?", hint:"Cumprir tarefas e respeitar regras."},
  {t:"17. Como o celular pode ser usado para facilitar a vida no trabalho?", hint:"Ajuda na comunicação e organização."},
  {t:"18. Explique por que é importante saber enviar um e-mail.", hint:"Permite comunicação formal e profissional."},
  {t:"19. Dê um exemplo de como a internet pode ajudar um trabalhador da construção civil.", hint:"Encontrar informações ou cursos."},
  {t:"20. Por que é importante aprender a usar aplicativos de mensagem para se comunicar na obra?", hint:"Facilitam a comunicação rápida."}
];

// Render perguntas
const app = document.getElementById('app');
DATA.forEach((q, idx)=>{
  const card=document.createElement('section');
  card.className='card';
  card.innerHTML=`
    <p class="question">${q.t}</p>
    <div class="actions">
      <button class="btn speak" data-say="${q.t}">🔈</button>
      <button class="btn hint-btn" data-id="${idx}">💡</button>
      <button class="btn record" data-id="${idx}">🎙️</button>
    </div>
    <textarea placeholder="Escreva sua resposta aqui..."></textarea>
    <div class="hint-text" id="hint${idx}">${q.hint}</div>
  `;
  app.appendChild(card);
});

// Voz
function speak(text){
  if(!('speechSynthesis' in window)) return;
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(text);
  u.lang='pt-BR';
  speechSynthesis.speak(u);
}
document.querySelectorAll('.speak').forEach(btn=>btn.onclick=()=>speak(btn.dataset.say));
document.getElementById('playAll').onclick=()=>speak(DATA.map(q=>q.t).join('. '));
document.getElementById('stopVoice').onclick=()=>speechSynthesis.cancel();

// Dicas
document.querySelectorAll('.hint-btn').forEach(btn=>{
  btn.onclick=()=>{
    const h=document.getElementById('hint'+btn.dataset.id);
    h.classList.toggle('show');
    if(h.classList.contains('show')) speak(h.textContent);
  };
});

// Fonte
let fontScale=1;
function applyFont(){ document.documentElement.style.setProperty('--fontScale', fontScale); }
document.getElementById('fontPlus').onclick=()=>{ fontScale+=0.1; applyFont(); };
document.getElementById('fontMinus').onclick=()=>{ fontScale=Math.max(0.8,fontScale-0.1); applyFont(); };

// Dark mode
document.getElementById('toggleDark').onclick=()=> document.body.classList.toggle('dark');

// Reconhecimento de voz
function startRecord(idx){
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if(!SpeechRecognition){
    alert('Seu navegador não suporta reconhecimento de voz.');
    return;
  }
  const rec = new SpeechRecognition();
  rec.lang = 'pt-BR';
  rec.start();
  rec.onresult = e=>{
    const txt = e.results[0][0].transcript;
    app.querySelectorAll('textarea')[idx].value = txt;
  };
}
document.querySelectorAll('.record').forEach(btn=>btn.onclick=()=>startRecord(btn.dataset.id));

// Revisar respostas
document.getElementById('reviewAnswers').onclick=()=>{
  let review = "Respostas:\n\n";
  app.querySelectorAll('textarea').forEach((ta, idx)=>{
    review += `${DATA[idx].t}\n→ ${ta.value || "(vazio)"}\n\n`;
  });
  alert(review);
};
</script>
</body>
</html>
